"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[585],{21649:function(Te,Pe,Ae){Ae.d(Pe,{Jq:function(){return J},Lj:function(){return ve},_b:function(){return g},i9:function(){return Y},md:function(){return A},mp:function(){return F},vj:function(){return N}});const _e=1024;let Be=0;class B{constructor(e,t){this.from=e,this.to=t}}class A{constructor(e={}){this.id=Be++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=J.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}A.closedBy=new A({deserialize:l=>l.split(" ")}),A.openedBy=new A({deserialize:l=>l.split(" ")}),A.group=new A({deserialize:l=>l.split(" ")}),A.contextHash=new A({perNode:!0}),A.lookAhead=new A({perNode:!0}),A.mounted=new A({perNode:!0});class ye{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}}const Ie=Object.create(null);class J{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):Ie,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new J(e.name||"",t,e.id,r);if(e.props){for(let n of e.props)if(Array.isArray(n)||(n=n(i)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[n[0].id]=n[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(A.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(A.group),n=-1;n<(i?i.length:0);n++){let s=t[n<0?r.name:i[n]];if(s)return s}}}}J.none=new J("",Object.create(null),0,8);class ve{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let n of e){let s=n(r);s&&(i||(i=Object.assign({},r.props)),i[s[0].id]=s[1])}t.push(i?new J(r.name,i,r.id,r.flags):r)}return new ve(t)}}const pe=new WeakMap,ce=new WeakMap;var N;(function(l){l[l.ExcludeBuffers=1]="ExcludeBuffers",l[l.IncludeAnonymous=2]="IncludeAnonymous",l[l.IgnoreMounts=4]="IgnoreMounts",l[l.IgnoreOverlays=8]="IgnoreOverlays"})(N||(N={}));class F{constructor(e,t,r,i,n){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,n&&n.length){this.props=Object.create(null);for(let[s,o]of n)this.props[typeof s=="number"?s:s.id]=o}}toString(){let e=this.prop(A.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new ie(this.topNode,e)}cursorAt(e,t=0,r=0){let i=pe.get(this)||this.topNode,n=new ie(i);return n.moveTo(e,t),pe.set(this,n._tree),n}get topNode(){return new O(this,0,0,null)}resolve(e,t=0){let r=X(pe.get(this)||this.topNode,e,t,!1);return pe.set(this,r),r}resolveInner(e,t=0){let r=X(ce.get(this)||this.topNode,e,t,!0);return ce.set(this,r),r}iterate(e){let{enter:t,leave:r,from:i=0,to:n=this.length}=e;for(let s=this.cursor((e.mode||0)|N.IncludeAnonymous);;){let o=!1;if(s.from<=n&&s.to>=i&&(s.type.isAnonymous||t(s)!==!1)){if(s.firstChild())continue;o=!0}for(;o&&r&&!s.type.isAnonymous&&r(s),!s.nextSibling();){if(!s.parent())return;o=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:me(J.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new F(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new F(J.none,t,r,i)))}static build(e){return ne(e)}}F.empty=new F(J.none,[],[],0);class Ce{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Ce(this.buffer,this.index)}}class re{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return J.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],n=i.name;if(/\W/.test(n)&&!i.isError&&(n=JSON.stringify(n)),e+=4,r==e)return n;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return n+"("+s.join(",")+")"}findChild(e,t,r,i,n){let{buffer:s}=this,o=-1;for(let a=e;a!=t&&!(Ne(n,i,s[a+1],s[a+2])&&(o=a,r>0));a=s[a+3]);return o}slice(e,t,r){let i=this.buffer,n=new Uint16Array(t-e),s=0;for(let o=e,a=0;o<t;){n[a++]=i[o++],n[a++]=i[o++]-r;let d=n[a++]=i[o++]-r;n[a++]=i[o++]-e,s=Math.max(s,d)}return new re(n,s,this.set)}}function Ne(l,e,t,r){switch(l){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function f(l,e){let t=l.childBefore(e);for(;t;){let r=t.lastChild;if(!r||r.to!=t.to)break;r.type.isError&&r.from==r.to?(l=t,t=r.prevSibling):t=r}return l}function X(l,e,t,r){for(var i;l.from==l.to||(t<1?l.from>=e:l.from>e)||(t>-1?l.to<=e:l.to<e);){let s=!r&&l instanceof O&&l.index<0?null:l.parent;if(!s)return l;l=s}let n=r?0:N.IgnoreOverlays;if(r)for(let s=l,o=s.parent;o;s=o,o=s.parent)s instanceof O&&s.index<0&&((i=o.enter(e,t,n))===null||i===void 0?void 0:i.from)!=s.from&&(l=o);for(;;){let s=l.enter(e,t,n);if(!s)return l;l=s}}class O{constructor(e,t,r,i){this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,n=0){for(let s=this;;){for(let{children:o,positions:a}=s._tree,d=t>0?o.length:-1;e!=d;e+=t){let p=o[e],x=a[e]+s.from;if(Ne(i,r,x,x+p.length)){if(p instanceof re){if(n&N.ExcludeBuffers)continue;let m=p.findChild(0,p.buffer.length,t,r-x,i);if(m>-1)return new L(new te(s,p,e,x),null,m)}else if(n&N.IncludeAnonymous||!p.type.isAnonymous||K(p)){let m;if(!(n&N.IgnoreMounts)&&p.props&&(m=p.prop(A.mounted))&&!m.overlay)return new O(m.tree,x,e,s);let S=new O(p,x,e,s);return n&N.IncludeAnonymous||!S.type.isAnonymous?S:S.nextChild(t<0?p.children.length-1:0,t,r,i)}}}if(n&N.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+t:e=t<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&N.IgnoreOverlays)&&(i=this._tree.prop(A.mounted))&&i.overlay){let n=e-this.from;for(let{from:s,to:o}of i.overlay)if((t>0?s<=n:s<n)&&(t<0?o>=n:o>n))return new O(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new ie(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return X(this,e,t,!1)}resolveInner(e,t=0){return X(this,e,t,!0)}enterUnfinishedNodesBefore(e){return f(this,e)}getChild(e,t=null,r=null){let i=de(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return de(this,e,t,r)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return ge(this,e)}}function de(l,e,t,r){let i=l.cursor(),n=[];if(!i.firstChild())return n;if(t!=null){for(;!i.type.is(t);)if(!i.nextSibling())return n}for(;;){if(r!=null&&i.type.is(r))return n;if(i.type.is(e)&&n.push(i.node),!i.nextSibling())return r==null?n:[]}}function ge(l,e,t=e.length-1){for(let r=l.parent;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class te{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class L{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,n=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return n<0?null:new L(this.context,this,n)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&N.ExcludeBuffers)return null;let{buffer:i}=this.context,n=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return n<0?null:new L(this.context,this,n)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new L(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new L(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new ie(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,n=r.buffer[this.index+3];if(n>i){let s=r.buffer[this.index+1];e.push(r.slice(i,n,s)),t.push(0)}return new F(this.type,e,t,this.to-this.from)}resolve(e,t=0){return X(this,e,t,!1)}resolveInner(e,t=0){return X(this,e,t,!0)}enterUnfinishedNodesBefore(e){return f(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,r=null){let i=de(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return de(this,e,t,r)}get node(){return this}matchContext(e){return ge(this,e)}}class ie{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof O)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof O?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,n=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return n<0?!1:(this.stack.push(this.index),this.yieldBuf(n))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&N.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&N.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&N.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let n=0;n<this.index;n++)if(i.buffer.buffer[n+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let n=t+e,s=e<0?-1:r._tree.children.length;n!=s;n+=e){let o=r._tree.children[n];if(this.mode&N.IncludeAnonymous||o instanceof re||!o.type.isAnonymous||K(o))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer){e:for(let i=this.index,n=this.stack.length;n>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;t=s,r=n+1;break e}i=this.stack[--n]}}for(let i=r;i<this.stack.length;i++)t=new L(this.buffer,t,this.stack[i]);return this.bufferNode=new L(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&t&&t(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return ge(this.node,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,n=this.stack.length-1;i>=0;n--){if(n<0)return ge(this.node,e,i);let s=r[t.buffer[this.stack[n]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}function K(l){return l.children.some(e=>e instanceof re||!e.type.isAnonymous||K(e))}function ne(l){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=_e,reused:n=[],minRepeatType:s=r.types.length}=l,o=Array.isArray(t)?new Ce(t,t.length):t,a=r.types,d=0,p=0;function x(P,I,b,v,j){let{id:C,start:k,end:z,size:q}=o,Z=p;for(;q<0;)if(o.next(),q==-1){let ue=n[C];b.push(ue),v.push(k-P);return}else if(q==-3){d=C;return}else if(q==-4){p=C;return}else throw new RangeError(`Unrecognized record size: ${q}`);let we=a[C],ae,oe,ze=k-P;if(z-k<=i&&(oe=U(o.pos-I,j))){let ue=new Uint16Array(oe.size-oe.skip),ee=o.pos-oe.size,he=ue.length;for(;o.pos>ee;)he=se(oe.start,ue,he);ae=new re(ue,z-oe.start,r),ze=oe.start-P}else{let ue=o.pos-q;o.next();let ee=[],he=[],be=C>=s?C:-1,ke=0,Se=z;for(;o.pos>ue;)be>=0&&o.id==be&&o.size>=0?(o.end<=Se-i&&(S(ee,he,k,ke,o.end,Se,be,Z),ke=ee.length,Se=o.end),o.next()):x(k,ue,ee,he,be);if(be>=0&&ke>0&&ke<ee.length&&S(ee,he,k,ke,k,Se,be,Z),ee.reverse(),he.reverse(),be>-1&&ke>0){let Oe=m(we);ae=me(we,ee,he,0,ee.length,0,z-k,Oe,Oe)}else ae=w(we,ee,he,z-k,Z-z)}b.push(ae),v.push(ze)}function m(P){return(I,b,v)=>{let j=0,C=I.length-1,k,z;if(C>=0&&(k=I[C])instanceof F){if(!C&&k.type==P&&k.length==v)return k;(z=k.prop(A.lookAhead))&&(j=b[C]+k.length+z)}return w(P,I,b,v,j)}}function S(P,I,b,v,j,C,k,z){let q=[],Z=[];for(;P.length>v;)q.push(P.pop()),Z.push(I.pop()+b-j);P.push(w(r.types[k],q,Z,C-j,z-C)),I.push(j-b)}function w(P,I,b,v,j=0,C){if(d){let k=[A.contextHash,d];C=C?[k].concat(C):[k]}if(j>25){let k=[A.lookAhead,j];C=C?[k].concat(C):[k]}return new F(P,I,b,v,C)}function U(P,I){let b=o.fork(),v=0,j=0,C=0,k=b.end-i,z={size:0,start:0,skip:0};e:for(let q=b.pos-P;b.pos>q;){let Z=b.size;if(b.id==I&&Z>=0){z.size=v,z.start=j,z.skip=C,C+=4,v+=4,b.next();continue}let we=b.pos-Z;if(Z<0||we<q||b.start<k)break;let ae=b.id>=s?4:0,oe=b.start;for(b.next();b.pos>we;){if(b.size<0)if(b.size==-3)ae+=4;else break e;else b.id>=s&&(ae+=4);b.next()}j=oe,v+=Z,C+=ae}return(I<0||v==P)&&(z.size=v,z.start=j,z.skip=C),z.size>4?z:void 0}function se(P,I,b){let{id:v,start:j,end:C,size:k}=o;if(o.next(),k>=0&&v<s){let z=b;if(k>4){let q=o.pos-(k-4);for(;o.pos>q;)b=se(P,I,b)}I[--b]=z,I[--b]=C-P,I[--b]=j-P,I[--b]=v}else k==-3?d=v:k==-4&&(p=v);return b}let $=[],le=[];for(;o.pos>0;)x(l.start||0,l.bufferStart||0,$,le,-1);let W=(e=l.length)!==null&&e!==void 0?e:$.length?le[0]+$[0].length:0;return new F(a[l.topID],$.reverse(),le.reverse(),W)}const V=new WeakMap;function H(l,e){if(!l.isAnonymous||e instanceof re||e.type!=l)return 1;let t=V.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=l||!(r instanceof F)){t=1;break}t+=H(l,r)}V.set(e,t)}return t}function me(l,e,t,r,i,n,s,o,a){let d=0;for(let w=r;w<i;w++)d+=H(l,e[w]);let p=Math.ceil(d*1.5/8),x=[],m=[];function S(w,U,se,$,le){for(let W=se;W<$;){let P=W,I=U[W],b=H(l,w[W]);for(W++;W<$;W++){let v=H(l,w[W]);if(b+v>=p)break;b+=v}if(W==P+1){if(b>p){let v=w[P];S(v.children,v.positions,0,v.children.length,U[P]+le);continue}x.push(w[P])}else{let v=U[W-1]+w[W-1].length-I;x.push(me(l,w,U,P,W,I,v,null,a))}m.push(I+le-n)}}return S(e,t,r,i,0),(o||a)(x,m,s)}class xe{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof L?this.setBuffer(e.context.buffer,e.index,t):e instanceof O&&this.map.set(e.tree,t)}get(e){return e instanceof L?this.getBuffer(e.context.buffer,e.index):e instanceof O?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Y{constructor(e,t,r,i,n=!1,s=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(n?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new Y(0,e.length,e,0,!1,r)];for(let n of t)n.to>e.length&&i.push(n);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],n=1,s=e.length?e[0]:null;for(let o=0,a=0,d=0;;o++){let p=o<t.length?t[o]:null,x=p?p.fromA:1e9;if(x-a>=r)for(;s&&s.from<x;){let m=s;if(a>=m.from||x<=m.to||d){let S=Math.max(m.from,a)-d,w=Math.min(m.to,x)-d;m=S>=w?null:new Y(S,w,m.tree,m.offset+d,o>0,!!p)}if(m&&i.push(m),s.to>x)break;s=n<e.length?e[n++]:null}if(!p)break;a=p.toA,d=p.toA-p.toB}return i}}class g{startParse(e,t,r){return typeof e=="string"&&(e=new Me(e)),r=r?r.length?r.map(i=>new B(i.from,i.to)):[new B(0,0)]:[new B(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let n=i.advance();if(n)return n}}}class Me{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function T(l){return(e,t,r,i)=>new y(e,l,t,r,i)}class h{constructor(e,t,r,i,n){this.parser=e,this.parse=t,this.overlay=r,this.target=i,this.ranges=n}}class u{constructor(e,t,r,i,n,s,o){this.parser=e,this.predicate=t,this.mounts=r,this.index=i,this.start=n,this.target=s,this.prev=o,this.depth=0,this.ranges=[]}}const c=new A({perNode:!0});class y{constructor(e,t,r,i,n){this.nest=t,this.input=r,this.fragments=i,this.ranges=n,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new F(r.type,r.children,r.positions,r.length,r.propValues.concat([[c,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[A.mounted.id]=new ye(t,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].ranges[0].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new R(this.fragments),t=null,r=null,i=new ie(new O(this.baseTree,this.ranges[0].from,0,null),N.IncludeAnonymous|N.IgnoreMounts);e:for(let n,s;this.stoppedAt==null||i.from<this.stoppedAt;){let o=!0,a;if(e.hasNode(i)){if(t){let d=t.mounts.find(p=>p.frag.from<=i.from&&p.frag.to>=i.to&&p.mount.overlay);if(d)for(let p of d.mount.overlay){let x=p.from+d.pos,m=p.to+d.pos;x>=i.from&&m<=i.to&&!t.ranges.some(S=>S.from<m&&S.to>x)&&t.ranges.push({from:x,to:m})}}o=!1}else if(r&&(s=_(r.ranges,i.from,i.to)))o=s!=2;else if(!i.type.isAnonymous&&i.from<i.to&&(n=this.nest(i,this.input))){i.tree||M(i);let d=e.findMounts(i.from,n.parser);if(typeof n.overlay=="function")t=new u(n.parser,n.overlay,d,this.inner.length,i.from,i.tree,t);else{let p=fe(this.ranges,n.overlay||[new B(i.from,i.to)]);p.length&&this.inner.push(new h(n.parser,n.parser.startParse(this.input,D(d,p),p),n.overlay?n.overlay.map(x=>new B(x.from-i.from,x.to-i.from)):null,i.tree,p)),n.overlay?p.length&&(r={ranges:p,depth:0,prev:r}):o=!1}}else t&&(a=t.predicate(i))&&(a===!0&&(a=new B(i.from,i.to)),a.from<a.to&&t.ranges.push(a));if(o&&i.firstChild())t&&t.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(t&&!--t.depth){let d=fe(this.ranges,t.ranges);d.length&&this.inner.splice(t.index,0,new h(t.parser,t.parser.startParse(this.input,D(t.mounts,d),d),t.ranges.map(p=>new B(p.from-t.start,p.to-t.start)),t.target,d)),t=t.prev}r&&!--r.depth&&(r=r.prev)}}}}function _(l,e,t){for(let r of l){if(r.from>=t)break;if(r.to>e)return r.from<=e&&r.to>=t?2:1}return 0}function E(l,e,t,r,i,n){if(e<t){let s=l.buffer[e+1];r.push(l.slice(e,t,s)),i.push(s-n)}}function M(l){let{node:e}=l,t=0;do l.parent(),t++;while(!l.tree);let r=0,i=l.tree,n=0;for(;n=i.positions[r]+l.from,!(n<=e.from&&n+i.children[r].length>=e.to);r++);let s=i.children[r],o=s.buffer;function a(d,p,x,m,S){let w=d;for(;o[w+2]+n<=e.from;)w=o[w+3];let U=[],se=[];E(s,d,w,U,se,m);let $=o[w+1],le=o[w+2],W=$+n==e.from&&le+n==e.to&&o[w]==e.type.id;return U.push(W?e.toTree():a(w+4,o[w+3],s.set.types[o[w]],$,le-$)),se.push($-m),E(s,o[w+3],p,U,se,m),new F(x,U,se,S)}i.children[r]=a(0,o.length,J.none,0,s.length);for(let d=0;d<=t;d++)l.childAfter(e.from)}class G{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(N.IncludeAnonymous|N.IgnoreMounts)}moveTo(e){let{cursor:t}=this,r=e-this.offset;for(;!this.done&&t.from<r;)t.to>=e&&t.enter(r,1,N.IgnoreOverlays|N.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof F)t=t.children[0];else break}return!1}}class R{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(t=r.tree.prop(c))!==null&&t!==void 0?t:r.to,this.inner=new G(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(c))!==null&&e!==void 0?e:t.to,this.inner=new G(t.tree,-t.offset)}}findMounts(e,t){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let n=this.inner.cursor.node;n;n=n.parent){let s=(r=n.tree)===null||r===void 0?void 0:r.prop(A.mounted);if(s&&s.parser==t)for(let o=this.fragI;o<this.fragments.length;o++){let a=this.fragments[o];if(a.from>=n.to)break;a.tree==this.curFrag.tree&&i.push({frag:a,pos:n.from-a.offset,mount:s})}}}return i}}function fe(l,e){let t=null,r=e;for(let i=1,n=0;i<l.length;i++){let s=l[i-1].to,o=l[i].from;for(;n<r.length;n++){let a=r[n];if(a.from>=o)break;a.to<=s||(t||(r=t=e.slice()),a.from<s?(t[n]=new B(a.from,s),a.to>o&&t.splice(n+1,0,new B(o,a.to))):a.to>o?t[n--]=new B(o,a.to):t.splice(n--,1))}}return r}function Q(l,e,t,r){let i=0,n=0,s=!1,o=!1,a=-1e9,d=[];for(;;){let p=i==l.length?1e9:s?l[i].to:l[i].from,x=n==e.length?1e9:o?e[n].to:e[n].from;if(s!=o){let m=Math.max(a,t),S=Math.min(p,x,r);m<S&&d.push(new B(m,S))}if(a=Math.min(p,x),a==1e9)break;p==a&&(s?(s=!1,i++):s=!0),x==a&&(o?(o=!1,n++):o=!0)}return d}function D(l,e){let t=[];for(let{pos:r,mount:i,frag:n}of l){let s=r+(i.overlay?i.overlay[0].from:0),o=s+i.tree.length,a=Math.max(n.from,s),d=Math.min(n.to,o);if(i.overlay){let p=i.overlay.map(m=>new B(m.from+r,m.to+r)),x=Q(e,p,a,d);for(let m=0,S=a;;m++){let w=m==x.length,U=w?d:x[m].from;if(U>S&&t.push(new Y(S,U,i.tree,-s,n.from>=S||n.openStart,n.to<=U||n.openEnd)),w)break;S=x[m].to}}else t.push(new Y(a,d,i.tree,-s,n.from>=s||n.openStart,n.to<=o||n.openEnd))}return t}},86253:function(Te,Pe,Ae){Ae.d(Pe,{Gv:function(){return ve},QR:function(){return N},bW:function(){return Ce},pJ:function(){return g}});var _e=Ae(21649);let Be=0;class B{constructor(h,u,c){this.set=h,this.base=u,this.modified=c,this.id=Be++}static define(h){if(h!=null&&h.base)throw new Error("Can not derive from a modified tag");let u=new B([],null,[]);if(u.set.push(u),h)for(let c of h.set)u.set.push(c);return u}static defineModifier(){let h=new ye;return u=>u.modified.indexOf(h)>-1?u:ye.get(u.base||u,u.modified.concat(h).sort((c,y)=>c.id-y.id))}}let A=0;class ye{constructor(){this.instances=[],this.id=A++}static get(h,u){if(!u.length)return h;let c=u[0].instances.find(M=>M.base==h&&Ie(u,M.modified));if(c)return c;let y=[],_=new B(y,h,u);for(let M of u)M.instances.push(_);let E=J(u);for(let M of h.set)if(!M.modified.length)for(let G of E)y.push(ye.get(M,G));return _}}function Ie(T,h){return T.length==h.length&&T.every((u,c)=>u==h[c])}function J(T){let h=[[]];for(let u=0;u<T.length;u++)for(let c=0,y=h.length;c<y;c++)h.push(h[c].concat(T[u]));return h.sort((u,c)=>c.length-u.length)}function ve(T){let h=Object.create(null);for(let u in T){let c=T[u];Array.isArray(c)||(c=[c]);for(let y of u.split(" "))if(y){let _=[],E=2,M=y;for(let Q=0;;){if(M=="..."&&Q>0&&Q+3==y.length){E=1;break}let D=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(M);if(!D)throw new RangeError("Invalid path: "+y);if(_.push(D[0]=="*"?"":D[0][0]=='"'?JSON.parse(D[0]):D[0]),Q+=D[0].length,Q==y.length)break;let l=y[Q++];if(Q==y.length&&l=="!"){E=0;break}if(l!="/")throw new RangeError("Invalid path: "+y);M=y.slice(Q)}let G=_.length-1,R=_[G];if(!R)throw new RangeError("Invalid path: "+y);let fe=new ce(c,E,G>0?_.slice(0,G):null);h[R]=fe.sort(h[R])}}return pe.add(h)}const pe=new _e.md;class ce{constructor(h,u,c,y){this.tags=h,this.mode=u,this.context=c,this.next=y}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(h){return!h||h.depth<this.depth?(this.next=h,this):(h.next=this.sort(h.next),h)}get depth(){return this.context?this.context.length:0}}ce.empty=new ce([],2,null);function N(T,h){let u=Object.create(null);for(let _ of T)if(!Array.isArray(_.tag))u[_.tag.id]=_.class;else for(let E of _.tag)u[E.id]=_.class;let{scope:c,all:y=null}=h||{};return{style:_=>{let E=y;for(let M of _)for(let G of M.set){let R=u[G.id];if(R){E=E?E+" "+R:R;break}}return E},scope:c}}function F(T,h){let u=null;for(let c of T){let y=c.style(h);y&&(u=u?u+" "+y:y)}return u}function Ce(T,h,u,c=0,y=T.length){let _=new re(c,Array.isArray(h)?h:[h],u);_.highlightRange(T.cursor(),c,y,"",_.highlighters),_.flush(y)}class re{constructor(h,u,c){this.at=h,this.highlighters=u,this.span=c,this.class=""}startSpan(h,u){u!=this.class&&(this.flush(h),h>this.at&&(this.at=h),this.class=u)}flush(h){h>this.at&&this.class&&this.span(this.at,h,this.class)}highlightRange(h,u,c,y,_){let{type:E,from:M,to:G}=h;if(M>=c||G<=u)return;E.isTop&&(_=this.highlighters.filter(l=>!l.scope||l.scope(E)));let R=y,fe=Ne(h)||ce.empty,Q=F(_,fe.tags);if(Q&&(R&&(R+=" "),R+=Q,fe.mode==1&&(y+=(y?" ":"")+Q)),this.startSpan(h.from,R),fe.opaque)return;let D=h.tree&&h.tree.prop(_e.md.mounted);if(D&&D.overlay){let l=h.node.enter(D.overlay[0].from+M,1),e=this.highlighters.filter(r=>!r.scope||r.scope(D.tree.type)),t=h.firstChild();for(let r=0,i=M;;r++){let n=r<D.overlay.length?D.overlay[r]:null,s=n?n.from+M:G,o=Math.max(u,i),a=Math.min(c,s);if(o<a&&t)for(;h.from<a&&(this.highlightRange(h,o,a,y,_),this.startSpan(Math.min(a,h.to),R),!(h.to>=s||!h.nextSibling())););if(!n||s>c)break;i=n.to+M,i>u&&(this.highlightRange(l.cursor(),Math.max(u,n.from+M),Math.min(c,i),y,e),this.startSpan(i,R))}t&&h.parent()}else if(h.firstChild()){do if(!(h.to<=u)){if(h.from>=c)break;this.highlightRange(h,u,c,y,_),this.startSpan(Math.min(c,h.to),R)}while(h.nextSibling());h.parent()}}}function Ne(T){let h=T.type.prop(pe);for(;h&&h.context&&!T.matchContext(h.context);)h=h.next;return h||null}const f=B.define,X=f(),O=f(),de=f(O),ge=f(O),te=f(),L=f(te),ie=f(te),K=f(),ne=f(K),V=f(),H=f(),me=f(),xe=f(me),Y=f(),g={comment:X,lineComment:f(X),blockComment:f(X),docComment:f(X),name:O,variableName:f(O),typeName:de,tagName:f(de),propertyName:ge,attributeName:f(ge),className:f(O),labelName:f(O),namespace:f(O),macroName:f(O),literal:te,string:L,docString:f(L),character:f(L),attributeValue:f(L),number:ie,integer:f(ie),float:f(ie),bool:f(te),regexp:f(te),escape:f(te),color:f(te),url:f(te),keyword:V,self:f(V),null:f(V),atom:f(V),unit:f(V),modifier:f(V),operatorKeyword:f(V),controlKeyword:f(V),definitionKeyword:f(V),moduleKeyword:f(V),operator:H,derefOperator:f(H),arithmeticOperator:f(H),logicOperator:f(H),bitwiseOperator:f(H),compareOperator:f(H),updateOperator:f(H),definitionOperator:f(H),typeOperator:f(H),controlOperator:f(H),punctuation:me,separator:f(me),bracket:xe,angleBracket:f(xe),squareBracket:f(xe),paren:f(xe),brace:f(xe),content:K,heading:ne,heading1:f(ne),heading2:f(ne),heading3:f(ne),heading4:f(ne),heading5:f(ne),heading6:f(ne),contentSeparator:f(K),list:f(K),quote:f(K),emphasis:f(K),strong:f(K),link:f(K),monospace:f(K),strikethrough:f(K),inserted:f(),deleted:f(),changed:f(),invalid:f(),meta:Y,documentMeta:f(Y),annotation:f(Y),processingInstruction:f(Y),definition:B.defineModifier(),constant:B.defineModifier(),function:B.defineModifier(),standard:B.defineModifier(),local:B.defineModifier(),special:B.defineModifier()},Me=N([{tag:g.link,class:"tok-link"},{tag:g.heading,class:"tok-heading"},{tag:g.emphasis,class:"tok-emphasis"},{tag:g.strong,class:"tok-strong"},{tag:g.keyword,class:"tok-keyword"},{tag:g.atom,class:"tok-atom"},{tag:g.bool,class:"tok-bool"},{tag:g.url,class:"tok-url"},{tag:g.labelName,class:"tok-labelName"},{tag:g.inserted,class:"tok-inserted"},{tag:g.deleted,class:"tok-deleted"},{tag:g.literal,class:"tok-literal"},{tag:g.string,class:"tok-string"},{tag:g.number,class:"tok-number"},{tag:[g.regexp,g.escape,g.special(g.string)],class:"tok-string2"},{tag:g.variableName,class:"tok-variableName"},{tag:g.local(g.variableName),class:"tok-variableName tok-local"},{tag:g.definition(g.variableName),class:"tok-variableName tok-definition"},{tag:g.special(g.variableName),class:"tok-variableName2"},{tag:g.definition(g.propertyName),class:"tok-propertyName tok-definition"},{tag:g.typeName,class:"tok-typeName"},{tag:g.namespace,class:"tok-namespace"},{tag:g.className,class:"tok-className"},{tag:g.macroName,class:"tok-macroName"},{tag:g.propertyName,class:"tok-propertyName"},{tag:g.operator,class:"tok-operator"},{tag:g.comment,class:"tok-comment"},{tag:g.meta,class:"tok-meta"},{tag:g.invalid,class:"tok-invalid"},{tag:g.punctuation,class:"tok-punctuation"}])}}]);})();

//# sourceMappingURL=module-lezer.1ca86dbb.js.map